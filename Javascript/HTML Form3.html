<html>
<head>
    <title>HTML Form3</title>
</head>
<body>
    <script>
        let head = document.createElement('h1');
        head.id = "head";
        head.innerHTML = "HTML Form3";
        document.body.appendChild(head);

        let fieldset = document.createElement('fieldset');
        let legend = document.createElement('legend');
        legend.innerHTML = "Gender";
        fieldset.appendChild(legend);

        // Create radio buttons
        let genders = ["Male", "Female", "Other"];
        for (let i = 0; i < genders.length; i++) {
            let radio = document.createElement('input');
            radio.type = "radio";
            radio.name = "gender";
            radio.value = genders[i];

            let label = document.createElement('label');
            label.innerHTML = genders[i];
            label.style.marginRight = "10px";

            fieldset.appendChild(radio);
            fieldset.appendChild(label);
        }
        document.body.appendChild(fieldset);

        // Error message
        let gError = document.createElement('p');
        gError.id = "gError";
        document.body.appendChild(gError);

        // Submit button
        let submitBtn = document.createElement('input');
        submitBtn.type = "button";
        submitBtn.value = "Submit";
        document.body.appendChild(submitBtn);

        // Validation on click
        submitBtn.onclick = function validateGender() {
            let radios = document.getElementsByName('gender');
            let selected = "";
            let isSelected = false;

            // Check which one is selected
            for (let i = 0; i < radios.length; i++) {
                if (radios[i].checked) {
                    isSelected = true;
                    selected = radios[i].value;
                    break;
                }
            }

            // Validation rule
            if (!isSelected) {
                gError.innerHTML = "Please select a gender!";
                gError.style.color = "red";
                return;
            }

            // If valid
            gError.innerHTML = "Valid gender!";
            gError.style.color = "green";
            head.innerHTML = selected; // Show selected gender in title
        };
    </script>
</body>
</html>
