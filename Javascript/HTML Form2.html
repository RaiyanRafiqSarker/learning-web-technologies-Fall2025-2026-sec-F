<html>
</head>
<body>
    <h1 id="head">HTML Form2</h1>

    <label for="email">Email</label><br>
    <input type="text" id="email" name="email">
    <button id="infoBtn" onclick="showHint()">i</button>
    <div id="hint">hint: sample@example.com</div>

    <p id="eError"></p>
    <input type="button" value="Submit" onclick="validateEmail()">

    <script>
        function showHint() {
            let hint = document.getElementById('hint');
            hint.style.display = (hint.style.display === 'block') ? 'none' : 'block';
        }

        function validateEmail() {
            let email = document.getElementById('email').value.trim();
            let eError = document.getElementById('eError');
            let head = document.getElementById('head');

            if (email === "") {
                eError.innerHTML = "Email cannot be empty!";
                eError.style.color = "red";
                return;
            }

            let atPos = email.indexOf('@');
            let dotPos = email.lastIndexOf('.');

            if (atPos <= 0 || atPos === email.length - 1) {
                eError.innerHTML = "Invalid email: '@' missing or misplaced!";
                eError.style.color = "red";
                return;
            }

            if (dotPos < atPos + 2 || dotPos === email.length - 1) {
                eError.innerHTML = "Invalid email: '.' missing or misplaced!";
                eError.style.color = "red";
                return;
            }

            if (email.split('@').length - 1 > 1) {
                eError.innerHTML = "Invalid email: multiple '@' not allowed!";
                eError.style.color = "red";
                return;
            }

        
            eError.innerHTML = "Valid email!";
            eError.style.color = "green";
            head.innerHTML = email;
        }
    </script>
</body>
</html>
